////////////////////////////////////////////
//                                        //
//              Countdown                 //
//                 v3.3                   //
//            Feb. 25, 2014               //
//             www.gieson.com             //
//         Copyright Mike Gieson          //
//                                        //
////////////////////////////////////////////


// Usage:
// var test = new Countdown({time:15});

var CountdownImageFolder = "img/";
var CountdownImageBasename = "flipper";
var CountdownImageExt = "png";
var CountdownImagePhysicalWidth = 41;
var CountdownImagePhysicalHeight = 60;

var CountdownWidth = 200;
var CountdownHeight = 30;

var CountdownLabels = {
	second 	: "SECONDS",
	minute 	: "MINUTES",
	hour	: "HOURS",
	day 	: "DAYS",
	month 	: "MONTHS",
	year 	: "YEARS"
};


////////////////////////////////////////////
//                                        //
//                 jbeeb                  //
//         version 0.0.0.3 alpha          //
//             www.jbeeb.com              //
//          Copyright Mike Gieson         //
//                                        //
////////////////////////////////////////////


if(!Array.prototype.indexOf)Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;var b=Object(this),a=b.length>>>0;if(a===0)return-1;var h=0;arguments.length>1&&(h=Number(arguments[1]),h!=h?h=0:h!=0&&h!=Infinity&&h!= -Infinity&&(h=(h>0|| -1)*Math.floor(Math.abs(h))));if(h>=a)return-1;for(h=h>=0?h:Math.max(a-Math.abs(h),0);h<a;h++)if(h in b&&b[h]===e)return h;return-1};if(!Function.prototype.bind)Function.prototype.bind=function(e){if(typeof this!=="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),a=this,h=function(){},c=function(){return a.apply(this instanceof h&&e?this:e,b.concat(Array.prototype.slice.call(arguments)))};h.prototype=this.prototype;c.prototype=new h;return c};this.jbeeb=this.jbeeb||{};(function(){var e=function(){},b=Object.prototype.toString,a=String.prototype.trim;e.link=function(a,c,b){var b=b||{},c=c||"_blank",f=[],g;for(g in b)g=g.toLowerCase(),g=="width"||g=="height"||g=="left"?f.push(g+"="+b[g]):(g=="location"||g=="menubar"||g=="resizable"||g=="scrollbars"||g=="status"||g=="titlebar"||g=="toolbar")&&f.push(g+"=1");b=null;f.length>0&&(b=f.join(","));window.open(a,c,b)};e.isArray=function(a){return Array.isArray?Array.isArray(a):b.call(a)==="[object Array]"};e.isEmpty=function(a){var b=typeof a;if(b=="undefined")return true;if(a===null)return true;else if(b=="object"){if(a=={}||a==[])return true;var b=true,d;for(d in a)if(!e.isEmpty(a[d])){b=false;break}return b}else return b=="string"&&a==""?true:false};e.isNumber=function(a){return b.call(a)==="[object Number]"&&isFinite(a)};e.isInteger=function(a){return parseFloat(a)==parseInt(a)&& !isNaN(a)&&isFinite(a)};e.isString=function(a){return b.call(a)==="[object String]"};e.isNull=function(a){return a===""||a===null||a===void 0||typeof a=="undefined"||a=="undefined"||a=="null"?true:false};e.clone=function(a){if(a===null||typeof a!="object")return a;if(a.init)return a;else{var b=a.constructor;if(b){var d=new b,f;for(f in a)d[f]=e.clone(a[f])}}return d};e.sortOn=function(a,b){if(!b|| !a)return a;a.sort(function(a,h){return a[b]<h[b]? -1:a[b]>h[b]?1:0})};e.arrayShuffle=function(a){if(a){for(var b=a.length,d,f;b;)f=Math.floor(Math.random()*b--),d=a[b],a[b]=a[f],a[f]=d;return a}else return[]};e.arrayMove=function(a,b,d){a.splice(d,0,a.splice(b,1)[0])};e.arrayInsertAt=function(a,b,d){Array.prototype.splice.apply(a,[b,0].concat(d));return a};e.rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;e.trim=a&& !a.call("\ufeff\u00a0")?function(h){return h==null?"":a.call(h)}:function(a){return a==null?"":(a+"").replace(e.rtrim,"")};e.alphanumeric=function(a,b){return b?a.replace(/[^A-Za-z0-9]/g,""):a.replace(/[^A-Za-z0-9_\-\.]/g,"")};e.parseJSON=function(a){if(typeof a!="string")return null;try{return JSON.parse(a)}catch(b){return a||null}};e.hexToRgb=function(a){return!a?"":(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]};e.makeColor=function(a,b){if(!a)return "";var d=e.hexToRgb(a);return e.isNumber(b)&&jbeeb.Browser.rgba?(b>1&&(b/=100),"rgba("+d.join(",")+(","+b)+")"):a};e.getXYWH=function(a){var b=0,d=0,f=0,g=0;if(a){for(var f=a.offsetWidth,g=a.offsetHeight,j=jbeeb.Browser.touch;a&& !isNaN(a.offsetLeft)&& !isNaN(a.offsetTop);)j?(b+=(a.offsetLeft||0)-(a.scrollLeft||0),d+=(a.offsetTop||0)-(a.scrollTop||0)):(b+=a.offsetLeft||0,d+=a.offsetTop||0),a=a.offsetParent;j&&(a=window.scrollY!=null?window.scrollY:window.pageYOffset,b+=window.scrollX!=null?window.scrollX:window.pageXOffset,d+=a)}return{x:b,y:d,w:f,h:g,xMax:b+f,yMax:d+g}};e.getWindowSize=function(){var a=window,b=document,d=b.documentElement,b=b.getElementsByTagName("body")[0];return{w:a.innerWidth||d.clientWidth||b.clientWidth,h:a.innerHeight||d.clientHeight||b.clientHeight}};e.contains=function(a,b){var d={},f={x:a.x,y:a.y,w:a.width,h:a.height},g={x:b.x,y:b.y,w:b.width,h:b.height};f.xMax=f.x+f.w;f.yMax=f.y+f.h;g.xMax=g.x+g.w;g.yMax=g.y+g.h;for(var j in f)d[j]=f[j]>=g[j]?true:false;return!d.x&& !d.y&&d.xMax&&d.yMax?true:false};e.getTimestamp=function(){var a=new Date;return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).valueOf()};e.bindEvent=function(a,b,d){a.attachEvent?a.attachEvent("on"+b,d):a.addEventListener&&a.addEventListener(b,d,false)};e.unbindEvent=function(a,b,d){a.attachEvent?a.detachEvent("on"+b,d):a.addEventListener&&a.removeEventListener(b,d,false)};e.getAttributes=function(a){var b={};if(a=a.attributes){for(var d=a.length,f=0;f<d;f++)jbeeb.Browser.ie?a[f].specified&&(b[a[f].nodeName]=a[f].nodeValue.toString()):b[a[f].nodeName]=a[f].value?a[f].value.toString():a[f].nodeValue.toString();return b}else return{}};jbeeb.Utils=e})();this.jbeeb=this.jbeeb||{};(function(){var e=function(){this.initialize()},b=e.prototype;e.initialize=function(a){a.addEventListener=b.addEventListener;a.removeEventListener=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent};b.V=null;b.initialize=function(){};b.addEventListener=function(a,b,c,d){var f=this.V;f?this.removeEventListener(a,b,c):f=this.V={};var g=f[a];g||(g=f[a]=[]);g.push({fn:b,arg:d,scope:c});return b};b.removeEventListener=function(a,b,c){var d=this.V;if(d&&(a=d[a]))for(d=a.length;d--;){var f=a[d];f.scope==c&&f.fn==b&&a.splice(d,1)}};b.removeAllEventListeners=function(a){a?this.V&&delete this.V[a]:this.V=null};b.dispatchEvent=function(a){var b=this.V;if(a&&b&&(b=b[a])){var c=[].slice.call(arguments);c.splice(0,1);for(var d=0;d<b.length;d++){var f=b[d];if(f.fn){var g=c,j=f.arg;typeof j!=="undefined"&&g.push(j);g.length?f.scope?f.fn.apply(f.scope,g):f.fn.apply(null,g):f.scope?f.fn.call(f.scope):f.fn()}}}};b.hasEventListener=function(a){var b=this.V;return!(!b|| !b[a])};b.toString=function(){return "[EventDispatcher]"};if(!jbeeb.EventDispatcher)jbeeb.EventDispatcher=e})();this.jbeeb=this.jbeeb||{};(function(){var e;if(!jbeeb.ready)jbeeb.ready=function(){var b,a,h=[],c,d=document,f=d.documentElement,g=f.doScroll,j=(g?/^loaded|^c/:/^loaded|c/).test(d.readyState);a=function(b){try{b=d.getElementsByTagName("body")[0].appendChild(d.createElement("span")),b.parentNode.removeChild(b)}catch(c){return setTimeout(function(){a()},50)}for(j=1;b=h.shift();)b()};d.addEventListener&&(c=function(){d.removeEventListener("DOMContentLoaded",c,false);a()},d.addEventListener("DOMContentLoaded",c,false),b=function(a){j?a():h.push(a)});g&&(c=function(){/^c/.test(d.readyState)&&(d.detachEvent("onreadystatechange",c),a())},d.attachEvent("onreadystatechange",c),b=function(a){if(self!=top)j?a():h.push(a);else{try{f.doScroll("left")}catch(c){return setTimeout(function(){b(a)},50)}a()}});return b}()})();this.jbeeb=this.jbeeb||{};(function(){function e(){return a&&a.call(performance)||(new Date).getTime()}var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,a=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow),h=function(a){this.init(a);return this},c=h.prototype;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;jbeeb.EventDispatcher.initialize(c);c.aI=50;c.ax=0;c.bn=null;c.aQ=null;c.aJ=null;c.ac=false;c.state=0;c.init=function(a){a.fps?(this.ac=a.animation&&b||false,this.aI=1E3/(a.fps||60)):this.aI=a.interval||50;a.startNow&&this.start()};c.stop=function(){this.state=0;this.bO(this.bF)};c.getInterval=function(){return this.aI};c.setInterval=function(a){this.aI=a};c.start=function(){if(!this.state)this.state=1,this.bn=[],this.bn.push(this.ax=e()),this.ac?this.bO(this.bx):this.bO(this.bD),this.by()};c.getFPS=function(){var a=this.bn.length-1;return a<2?this.aI:1E3/((this.bn[0]-this.bn[a])/a)};c.bx=function(){this.aQ=null;this.by();e()-this.ax>=(this.aI-1)*0.97&&this.aD()};c.bD=function(){this.aQ=null;this.by();this.aD()};c.bF=function(){this.aQ=null};c.by=function(){if(this.aQ==null)this.ac?(b(this.aJ),this.aQ=true):(this.aQ&&clearTimeout(this.aQ),this.aQ=setTimeout(this.aJ,this.aI))};c.bO=function(a){this.aJ=a.bind(this)};c.aD=function(){var a=e(),b=a-this.ax;this.ax=a;this.dispatchEvent("tick",{delta:b,time:a});for(this.bn.unshift(a);this.bn.length>100;)this.bn.pop()};c.toString=function(){return "[Ticker]"};if(!jbeeb.Ticker)jbeeb.Ticker=h})();this.jbeeb=this.jbeeb||{};(function(){var e,b;if(!jbeeb.Browser){var a={ie:null,ios:null,mac:null,webkit:null,oldWebkit:false,flash:0,touch:false};e=navigator.userAgent;e=e.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];e=b[1]||"";b=b[2]||"0";a.version=parseFloat(b);a.agent=e;b=false;e=="chrome"?b=true:e=="webkit"&&(b=true);a.webkit=b;a.chrome=/chrome/.test(e)||/chromium/.test(e);a.moz=/mozilla/.test(e);a.opera=/opera/.test(e);a.safari=/webkit/.test(e);a.ie=/msie/.test(e)&& !/opera/.test(e);a.android=/android/.test(e);b=navigator.platform.toLowerCase();a.platform=b;a.ios=/iphone/.test(b)||/ipod/.test(b)||/ipad/.test(b);a.win=a.windows=b?/win/.test(b):/win/.test(e);a.mac=b?/mac/.test(b):/mac/.test(e);a.cssPrefix="";if(a.chrome||a.safari)if(a.cssPrefix="webkit",a.chrome&&a.version<10)a.oldWebkit=true;else{if(a.safari&&a.version<5.1)a.oldWebkit=true}else if(a.opera)a.cssPrefix="o";else if(a.moz)a.cssPrefix="moz";else if(a.ie&&a.version>8)a.cssPrefix="ms";if(a.chrome||a.ios||a.android)a.flash=0;e=false;b="Webkit Moz O ms Khtml".split(" ");var h="",h=document.createElement("div");h.style.animationName&&(e=true);if(e===false)for(var c=0;c<b.length;c++)if(h.style[b[c]+"AnimationName"]!==void 0){h=b[c];h.toLowerCase();e=true;break}a.animation=e;a.modern=false;if(a.moz&&a.version>3)a.modern=true;if(a.opera&&a.version>9)a.modern=true;if(a.ie&&a.version>9)a.modern=true;if(a.chrome||a.safari||a.ios||a.android)a.modern=true;a.rgba=true;a.quirks=document.compatMode=="CSS1Compat"?false:true;if(a.ie)if(a.version<9)a.rgba=false;else{if(a.quirks)a.rgba=false,a.version=8,a.modern=false}else if(a.moz&&a.version<3)a.rgba=false;else if(a.safari&&a.version<3)a.rgba=false;else if(a.opera&&a.version<10)a.rgba=false;a.touch=typeof window.ontouchstart==="undefined"?false:true;jbeeb.Browser=a}})();this.jbeeb=this.jbeeb||{};(function(){jbeeb.PathInfo=function(){function e(a,b){var h,k,n,q,s,t,o,l,p,u,r,x,m,v,a=a||"";k=a.replace(/\\/g,"/");k.match(/:\//)||(l="",l=b?d:f,l=e(l,false),k.substr(0,1)=="/"?k=l.host+(c?"":"/")+k:k.substr(0,3)=="../"?(l=l.parenturl.split("/"),k=k.split("../"),n=k.pop(),l.splice(l.length-k.length,k.length,n),k=l.join("/")):k=l.pathurl+(c?"":"/")+k);k.substr(-1)=="/"&&(k=k.substr(0,k.length-1));h=k.split("://");k=h.shift();l=(h.shift()||"").replace("//","/");l=l.split("/");n=l.shift()||"";n.indexOf("@")> -1&&(h=n.split("@"),m=h[0].split(":"),x=m[0],m=m[1],n=h[1]);n.indexOf(":")> -1&&(h=n.split(":"),q=h[1],n=h[0]);l=l.join("/");l.indexOf("#")!= -1&&(h=l.split("#"),r=h[1],l=h[0]);l.indexOf("?")!= -1&&(h=l.split("?"),u=h[1],l=h[0]);h=l.split("/");o=h.pop();l=h.join("/");o==".."&&(o="");h=o.split(".");h.length>1&&(t=h.pop().toLowerCase(),s=h.join("."));v=k+"://"+n+(q?":"+q:"");l="/"+l+(l.length>0?"/":"");p=v+l;h=v+l+o+(u?"?"+u:"")+(r?"#"+r:"");var w=l,y=p;t?(l+=o,p+=o):(l+=o+(o!=""?"/":""),p+=o+(o!=""?"/":""),s=o,!u&& !r&&h.substr(-1)!="/"&&(h+="/"));c===false&&(w.substr(-1)=="/"&&(w=w.substr(0,w.length-1)),y.substr(-1)=="/"&&(y=y.substr(0,y.length-1)),t||(l.substr(-1)=="/"&&(l=l.substr(0,l.length-1)),p.substr(-1)=="/"&&(p=p.substr(0,p.length-1)),h.substr(-1)=="/"&&(h=h.substr(0,h.length-1))));return{source:a||null,url:h||null,protocol:k||null,domain:n||null,port:q||null,basename:s||null,ext:t||null,filename:o||null,path:l||null,pathurl:p||null,parent:w||null,parenturl:y||null,query:u||null,fragment:r||null,username:x||null,password:m||null,host:v||null}}function b(a){return(a||"").split("?")[0].split("/").pop()}function a(a){a=a.split("/");a.pop();return a.join("/").toString()+(a.length>0?"/":"")}function h(b){var h=document.getElementsByTagName("script");return(h=h[h.length-1].getAttribute("src"))?b?h.split("?")[0]:a(h.split("?")[0]):""}var c=true,d=h(),f=a(window.location.href);return{parse:e,filename:b,basename:function(a){a=b(a).split(".");a.pop();return a.join(".")},basepath:a,scriptPath:d,getScriptPath:h,pagePath:f,ext:function(a){return(a||"").split("?")[0].split("/").pop().split(".").pop().toLowerCase()}}}()})();this.jbeeb=this.jbeeb||{};(function(){if(!jbeeb.Base)jbeeb.amReady=false,jbeeb.ticker=null,jbeeb.tickerInterval=50,jbeeb.scriptPath=null,jbeeb.pagePath="",jbeeb.assetsBasePath="",jbeeb.focus=null,jbeeb.binit=0;jbeeb.unfocus=function(){if(jbeeb.focus){var b=jbeeb.focus;b.element&&b.element.blur();jbeeb.focus=null}};var e=function(){};e.aV=0;e.bI=[];e.O=[];e.scriptPath=null;e.bq=function(){return "jbeeb_"+e.aV++};e.bA=function(b){e.O.push(b);jbeeb.amReady&&e.bU()};e.bU=function(){var b=e.O.length;if(b>0)for(;b--;){var a=e.O.splice(b,1)[0];a&&a.init&&a.init.call(a)}};e.init=function(){if(!jbeeb.amReady){jbeeb.ticker=new jbeeb.Ticker({interval:jbeeb.tickerInterval,startNow:1});if(!jbeeb.assetsBasePath)jbeeb.assetsBasePath="";if(window.location.href.substr(0,4)!="http"){if(!jbeeb.pagePath)jbeeb.pagePath="";if(!jbeeb.scriptPath)jbeeb.scriptPath=""}else{if(!jbeeb.pagePath)jbeeb.pagePath=jbeeb.PathInfo.pagePath;if(!jbeeb.scriptPath)jbeeb.scriptPath=jbeeb.PathInfo.scriptPath}jbeeb.FlashDetect&&jbeeb.FlashDetect.run();jbeeb.amReady=true;e.bU()}};if(!jbeeb.Base)jbeeb.Base=e,jbeeb.register=e.bA,jbeeb.getUID=e.bq})();if(!jbeeb.binit)jbeeb.binit=1,jbeeb.ready(function(){jbeeb.Base.init()});this.jbeeb=this.jbeeb||{};(function(){var e=function(a){this.init(a)},b=e.prototype;b.addEventListener=null;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;jbeeb.EventDispatcher.initialize(b);b.amStage=null;b.element=null;b.style=null;b.J=null;b.alpha=1;b.id=null;b.name=null;b.parent=null;b.stage=null;b.rotation=0;b.scale=1;b.scaleX=1;b.scaleY=1;b.stretchX=1;b.stretchY=1;b.skewX=0;b.skewY=0;b.origin=null;b.originX=0;b.originY=0;b.originType="px";b.shadow=null;b.bevel=null;b.outline=null;b.inset=null;b.visible=true;b.overflow="visible";b.autoCenter=null;b.x=0;b.y=0;b.width=0;b.height=0;b.flex="wh";b.bL=1;b.bk=1;b.pin=null;b.bg=null;b.aM=null;b.z=0;b.temp=null;b.rounded=null;b.fill=null;b.stroke=null;b.image=null;b.gradient=null;b.aa=null;b.init=function(a){this.temp={};this.style=null;this.alpha=1;this.parent=this.name=this.id=null;this.rotation=0;this.scaleY=this.scaleX=this.scale=1;this.skewY=this.skewX=0;this.visible=true;this.overflow="visible";this.height=this.width=this.y=this.x=0;this.flex="wh";this.bk=this.bL=1;this.aM=this.bg=this.pin=null;this.z=0;this.autoCenter=null;this.stroke={};this.fill={};this.inset=this.shadow=null;this.gradient={};this.rounded=null;this.J=jbeeb.storeCSS?{}:null;var a=a||{},b=jbeeb.getUID();this.id=b;if(a.element)this.element=a.element;else if(this.element=document.createElement("div"),this.element.id=b,this.element.style.position="absolute",this.element.style.overflow="visible",this.J)this.J.position="absolute",this.J.overflow="visible";if(a.standalone)this.amStage=1;this.aa=a.inline?"inline-block":"block";if(a.name)this.name=a.name;this.element.id=this.type+"_"+this.element.id;b=this.style=this.element.style;b.padding="0px";b.margin="0px";b.border="0px";b.fontSize="100%";b.verticalAlign="baseline";b.outline="0px";b.background="transparent";b.WebkitTextSizeAdjust="100%";b.msTextSizeAdjust="100%";b.WebkitBoxSizing=b.MozBoxSizing=b.boxSizing="padding-box";b.backgroundClip="padding-box";if(this.J)b=this.J,b.padding="0px",b.margin="0px",b.border="0px",b.fontSize="100%",b.verticalAlign="baseline",b.outline="0px",b.background="transparent",b.WebkitTextSizeAdjust="100%",b.msTextSizeAdjust="100%",b.boxSizing="padding-box",b.backgroundClip="padding-box";a.editable||this.setSelectable(false);this.setCursor("inherit");if(a)this.autoCenter=a.center,typeof a.flex!="undefined"&&this.setFlex(a.flex),typeof a.pin!="undefined"&&this.setPin(a.pin),typeof a.overflow!="undefined"&&this.setOverflow(a.pin);this.setOrigin(0,0,"px");this.applySkin(a,false)};b.setSelectable=function(a){var b=this.style,c="none",d="-moz-none";a&&(d=c="text");b.userSelect=b.WebkitUserSelect=b.MozUserSelect=b.OUserSelect=c;b.MozUserSelect=d;if(this.J)this.J.userSelect=c,this.J.MozUserSelect=d};b.setBorderRender=function(a){var b=this.style,a=a=="outside"?"content-box":"border-box";b.WebkitBoxSizing=b.MozBoxSizing=b.boxSizing=a;if(this.J)this.J.boxSizing=a};b.applySkin=function(a,b){this.stroke={};this.fill={};this.gradient=null;this.rounded=0;this.inset=this.outline=this.bevel=this.shadow=this.image=null;if(!(b==true&&b)){var c=jbeeb.Utils.isNumber(a.x)?a.x:0,d=jbeeb.Utils.isNumber(a.y)?a.y:0;this.setXY(c,d);a.height&&this.setHeight(a.height);a.width&&this.setWidth(a.width);a.h&&this.setHeight(a.h);a.w&&this.setWidth(a.w)}this.setRounded(a.rounded);var c=a.fill,f,g;if(c)typeof c=="string"?(f=c,g=1):(f=c.color,g=c.alpha);this.setFill(f,g);var c=a.stroke,e=d=g=f=null;c&&(typeof c=="string"?(f=c,d=g=1,e="solid"):c.color!=null&&(f=c.color||"#000000",g=jbeeb.Utils.isNumber(c.alpha)?c.alpha:1,d=c.weight||1,e=c.style||"solid"));this.setStroke(d,f,g,e);this.setStrokeStyle(e);var c=a.image,i,k;if(a.image)typeof c=="string"?(i=c,k=null):(i=c.url,k=c.mode);this.setImage(i,k);this.setShadow(a.shadow);this.setBevel(a.bevel);this.setOutline(a.outline);this.setInset(a.inset)};b.bC=function(){var a=this.style;if(a){var b="",c="",d="",f="",g="",e=0,i=this.fill;i&&(jbeeb.Utils.isArray(i.color)?e=1:i.color&&(c=jbeeb.Utils.makeColor(i.color,i.alpha)));if(this.image&&this.image.url){b='url("'+this.image.url+'")';e=this.image.mode||"center";if(e!="pattern"){if(e=="fit")d="100% 100%";else if(e=="contain"||e=="cover")d="contain";f="no-repeat";g="center center"}e=0}if(e){e=i.color;if(this.J)this.J.gradient=1;for(var i=i.alpha||"v",k=jbeeb.Browser,n=[],q=[],s=e.length,t=k.oldWebkit,o=0;o<s;o+=3){var l=jbeeb.Utils.makeColor(e[o],e[o+1]),p=e[o+2];p>100?p=100:p<0&&(p=0);t?q.push("color-stop("+p+"%, "+l+")"):n.push(l+" "+p+"%")}if(k.modern)b=k.cssPrefix,b==""?(b="linear-",i=(i=="v"?"to bottom, ":"to right, ")+n.join(",")):b=="webkit"&&t?(e=q.join(","),b="-webkit-",i=i=="v"?"linear, left top, left bottom, "+e:"linear, left top, right top, "+e):(b="-"+b+"-linear-",i=(i=="v"?"top, ":"left, ")+n.join(",")),b=b+"gradient("+i+")";else if(k.ie&&k.version<9){if(i="progid:DXImageTransform.Microsoft.gradient( gradientType="+(i=="v"?"0":"1")+", startColorstr='"+e[0]+"', endColorstr='"+e[e.length-3]+"')",this.style.filter=i,this.style.msFilter='"'+i+'"',this.J)e=this.J,e.filter=i,e.msFilter='"'+i+'"'}else{b="";for(o=0;o<s;o+=3)jbeeb.Utils.makeColor(e[o],e[o+1]),b+='<stop offset="'+e[o+2]+'%" stop-color="'+e[o]+'" stop-opacity="'+e[o+1]+'"/>';e="0";n="100";i=="h"&&(e="100",n="0");i="jbeeb-grad-"+this.id;q="";q+='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none">';q+='  <linearGradient id="'+i+'" gradientUnits="userSpaceOnUse" x1="0%" y1="0%" x2="'+e+'%" y2="'+n+'%">';q+=b;q+="  </linearGradient>";q+='  <rect x="0" y="0" width="1" height="1" fill="url(#'+i+')" />';q+="</svg>";b='url("data:image/svg+xml;base64,'+jbeeb.Base64.encode(q)+'")'}}else if(this.J)this.J.gradient=0;a.backgroundColor=c||"";a.backgroundImage=b||"none";a.backgroundSize=d||"";a.backgroundRepeat=f||"";a.backgroundPosition=g||"";if(this.J)e=this.J,e.backgroundColor=c||"",e.backgroundImage=b||"none",e.backgroundSize=d||"",e.backgroundRepeat=f||"",e.backgroundPosition=g||""}};b.setFill=function(a,b){if(!this.fill)this.fill={};this.fill.color=a;this.fill.alpha=b;this.bC()};b.setImage=function(a,b){if(a){if(!this.image)this.image={};this.image.url=a;this.image.mode=b}else this.image=null;this.bC()};b.setImageSizing=function(a){if(this.image)this.image.mode=a,this.bC()};b.setStroke=function(a,b,c,d){if(!this.stroke)this.stroke={};typeof a=="string"&&(b=a,a=1);a>0&&(a=Math.round(a));var f=c||1,d=d||"solid";b==null&&(d=f=a=null);c=this.stroke;c.weight=a;c.color=b;c.alpha=f;c.style=d;var e=this.style;a?(c=a+"px",b=jbeeb.Utils.makeColor(b,f),f= -a+"px",a= -a+"px"):a=f=b=c=d="";e.borderStyle=d;e.borderWidth=c;e.borderColor=b;e.marginLeft=f;e.marginTop=a;if(this.J)e=this.J,e.borderStyle=d,e.borderWidth=c,e.borderColor=b,e.marginLeft=f,e.marginTop=a;this.bz()};b.setStrokeStyle=function(a){a=a||"";this.style.borderStyle=a;if(this.J)this.J.borderStyle=a};b.setCursor=function(a){this.style.cursor=a;if(this.J)this.J.cursor=a};b.setWidth=function(a){var b=this.style;if(b&&a>0&&(this.width=a,b.width=a+"px",this.autoCenter&&this.center(this.autoCenter),this.rounded&&this.bz(),this.J))this.J.width=a+"px"};b.setHeight=function(a){var b=this.style;if(b&&a>0&&(this.height=a,b.height=a+"px",this.autoCenter&&this.center(this.autoCenter),this.rounded&&this.bz(),this.J))this.J.height=a+"px"};b.measure=function(){var a=this.element,b=a.clientWidth,a=a.clientHeight;this.width=b;this.height=a;return[b,a]};b.setSize=function(a,b){var c=this.style;if(c&&a>0&&b>0&&(this.width=a,this.height=b,c.width=a+"px",c.height=b+"px",this.autoCenter&&this.center(this.autoCenter),this.rounded&&this.bz(),this.J))this.J.width=a+"px",this.J.height=b+"px"};b.setXY=function(a,b){this.x=a;this.y=b;var c=this.style;c.left=a+"px";c.top=b+"px";if(this.J)this.J.left=a+"px",this.J.top=b+"px"};b.setBaseXY=function(a,b){this.setXY(a,b);this.bB=a;this.bf=b};b.setXYWH=function(a,b,c,d){this.width=c;this.height=d;this.x=a;this.y=b;var f=this.style;f.width=(c||0)+"px";f.height=(d||0)+"px";f.left=(a||0)+"px";f.top=(b||0)+"px";if(this.J)f=this.J,f.width=(c||0)+"px",f.height=(d||0)+"px",f.left=(a||0)+"px",f.top=(b||0)+"px"};b.setX=function(a){this.x=a;this.style.left=(a||0)+"px";if(this.J)this.J.left=(a||0)+"px"};b.setY=function(a){this.y=a;this.style.top=(a||0)+"px";if(this.J)this.J.top=(a||0)+"px"};b.setTop=function(a){this.y=a;this.style.top=a+"px";if(this.J)this.J.top=(a||0)+"px"};b.setBottom=function(a){this.y=a-this.height;this.style.bottom=a+"px";if(this.J)this.J.bottom=(a||0)+"px"};b.setLeft=function(a){this.x=a;this.style.left=(a||0)+"px";if(this.J)this.J.left=(a||0)+"px"};b.setRight=function(a){this.x=a=(a||0)-this.width;this.style.right=a+"px";if(this.J)this.J.right=a+"px"};b.setZ=function(a){a<0&&(a=0);this.z=a;var b=this.style;if(!b)this.style=b=this.element.style;b.zIndex=a;if(this.J)this.J.zIndex=a};b.setScale=function(a){this.scaleY=this.scaleX=this.scale=a;this.af("scale("+a+","+a+")")};b.setScaleX=function(a){this.scaleX=a;this.af("scale("+this.scaleX+","+a+")")};b.setScaleY=function(a){this.scaleY=a;this.af("scale("+a+","+this.scaleY+")")};b.stretch=function(a,b){this.stretchX=a;this.stretchY=b;if(a>0&&b>0){this.bL&&this.setWidth(this.width*a);this.bk&&this.setHeight(this.height*b);var c=this.x,d=this.y;if(this.bg){if(this.bg=="r"&&this.parent){if(this.aO==null)this.aO=this.parent.width-this.x;c=this.parent.width-this.aO;this.setX(c)}}else if(this.originX){var f=this.originX;this.setX(f+(c-f)*a)}else this.setX(c*a);if(this.aM){if(this.aM=="b"&&this.parent){if(this.as==null)this.as=this.parent.height-this.y;c=this.parent.height-this.as;this.setY(c)}}else this.originY?(f=this.originY,this.setY(f+(d-f)*b)):this.setY(d*b)}this.dispatchEvent("stretch",this.width,this.height)};b.aO=null;b.as=null;b.setPin=function(a){this.pin=a;this.aM=this.bg=0;if(a){a=a.toLowerCase();if(a.match(/r/))this.bg="r";if(a.match(/l/))this.bg="l";if(a.match(/t/))this.aM="t";if(a.match(/b/))this.aM="b";if(a.match(/s/))this.aM=this.bg="s"}};b.setFlex=function(a){this.bk=this.bL=0;if(a)a.toLowerCase(),this.bL=a.match(/w/)?1:0,this.bk=a.match(/h/)?1:0;this.flex=a};b.setRotation=function(a){this.rotation=a;this.af("rotate("+a+"deg)")};b.setSkew=function(a,b){this.skewX=a;this.skewY=b;this.af("skew("+a+"deg,"+b+"deg)")};b.setOrigin=function(a,b,c){this.originX=a;this.originY=b;c=(this.originType=c)?c:"px";a=a+c+" "+b+c;b=this.style;b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin=a;if(this.J)this.J.transformOrigin=a};b.af=function(a){var b=this.style;b.transform=b.transform=b.msTransform=b.WebkitTransform=b.MozTransform=a;if(this.J)this.J.transform=a};b.center=function(a){if((this.parent||this.amStage)&&this.width&&this.height){var b=this.x,c=this.y,d,f;this.amStage?(d=jbeeb.Utils.getXYWH(this.element.parentNode),f=d.w*0.5,d=d.h*0.5):(d=this.parent,d.width||d.measure(),f=d.width*0.5,d=d.height*0.5);var e=this.width*0.5,j=this.height*0.5;a=="v"?c=d-j:a=="h"?b=f-e:(b=f-e,c=d-j);this.setXY(b,c)}};b.setOverflow=function(a){this.overflow=a;var b="",c="";if(a=="x"||a=="y"|| !a)a=="x"?(b="auto",c="hidden"):a=="y"&&(b="hidden",c="auto",jbeeb.Browser.ie&&this.setWidth(this.width+20)),this.style.overflowX=b,this.style.overflowY=c;this.style.overflow=a;if(this.J){var d=this.J;d.overflow=a;d.overflowX=b;d.overflowY=c}};b.setVisible=function(a){this.visible=a;var b=this.style,a=a?this.aa:"none";b.display=a;if(this.J)this.J.display=a};b.show=function(){this.setVisible(true)};b.hide=function(){this.setVisible(false)};b.setAlpha=function(a){this.alpha=a;if(a!==null)this.style.opacity=""+a;if(this.J)this.J.opacity=""+a};b.setRounded=function(a){this.rounded=a;this.bz()};b.bz=function(){var a="",b=this.rounded;if(b){var c=this.width,d=this.height,f=0,e=this.stroke;if(e)e=e.weight,jbeeb.Utils.isNumber(e)&&(f=e*2);c=((c<d?c:d)+f)*0.5;jbeeb.Utils.isNumber(b)?a=c*b+"px":b&&typeof b=="object"&&(a+=(c*b.tl||0)+"px "+(c*b.tr||0)+"px "+(c*b.br||0)+"px "+(c*b.bl||0)+"px")}b=this.style;b.borderRadius=b.MozBorderRadius=b.WebkitBorderRadius=b.OBorderRadius=b.msBorderRadius=a;if(this.J)this.J.borderRadius=a};b.onAdded=function(){this.autoCenter&&this.center(this.autoCenter);this.dispatchEvent("added",this)};b.toFront=function(){this.parent&&this.parent.toFront(this)};b.toBack=function(){this.parent&&this.parent.toBack(this)};b.ad=function(){var a=this.style,b=this.bc(),c=this.an(),d=this.ah(),f=this.aS(),e="none";if(!(b==[]&&c==[]&&d==[]&&f==[])){for(var b=c.concat(d,f,b),c=b.length,d=[],f=[],j=0,i=0;i<c;i++)j==0?b[i]==1&&f.push("inset"):j<4?f.push(b[i]+"px"):(f.push(jbeeb.Utils.makeColor(b[i],b[i+1])),d.push(f.join(" ")),f=[],++i,j= -1),j++;d.length>0&&(e=d.join(","))}a.boxShadow=a.MozBoxShadow=a.WebkitBoxShadow=a.OBoxShadow=a.msBoxShadow=e;if(this.J)this.J.boxShadow=e};b.bc=function(){var a=this.shadow;return a?[0,a.x||0,a.y||0,a.s,a.c||"#000000",a.a||0.4]:[]};b.setShadow=function(a){this.shadow=a;this.ad()};b.aS=function(){var a=this.inset;return a?[1,a.x||0,a.y||0,a.s,a.c||"#000000",a.a||0.4]:[]};b.setInset=function(a){this.inset=a;this.ad()};b.an=function(){var a=this.bevel;return a?[1,-a.x,-a.y,a.s1,a.c1||"#FFFFFF",a.a1,1,a.x,a.y,a.s2,a.c2||"#000000",a.a2]:[]};b.setBevel=function(a){if(a)jbeeb.Utils.isNumber(a)?a={x: -a,y: -a,s1:0,s2:0,c1:"#FFFFFF",c2:"#000000",a1:1,a2:1}:(a.c1=a.c1||"#FFFFFF",a.c2=a.c2||"#000000");this.bevel=a;this.ad()};b.ah=function(){if(this.outline){var a=this.outline;return[0,-a.weight,-a.weight,a.spread||0,a.color||"#000000",a.alpha||1,0,a.weight,-a.weight,a.spread||0,a.color||"#000000",a.alpha||1,0,-a.weight,a.weight,a.spread||0,a.color||"#000000",a.alpha||1,0,a.weight,a.weight,a.spread||0,a.color||"#000000",a.alpha||1]}else return[]};b.setOutline=function(a){this.outline=a;this.ad()};b.setMouseEnabled=function(a){a=a===0||a===false?"none":"auto";this.style.pointerEvents=a;if(this.J)this.J.pointerEvents=a};b.ak=null;b.MELbubble=false;b.addMEL=function(a,b,c,d,f){this.MELbubble=d;if(!this.ak)this.ak=new jbeeb.MouseEventListener(this);(a=="mouseOver"||a=="mouseOut"||a=="mouseMove")&&this.ak.enableMouseOver(1);this.addEventListener(a,b,c,f)};b.removeMEL=function(a,b){this.removeEventListener(a,b);a=="mouseOver"&&this.ak.enableMouseOver(0)};b.setFloat=function(a){this.style.position="relative";this.style.left="";this.style.top="";this.style.cssFloat=a;this.style.display="inline-block";if(this.J)this.J.position="relative",this.J.left=null,this.J.top=null,this.J.cssFloat=a,this.J.display="inline-block"};b.destroy=function(){this.removeAllEventListeners();if(this.ak)this.ak.destroy(),this.ak=null;if(this.element&&this.element.parentNode)this.element.parentNode.removeChild(this.element),this.element=null;if(this.parent)this.parent.removeChild(this),this.parent=null;this.J=this.element=this.image=this.inset=this.shadow=this.outline=this.bevel=this.gradient=this.fill=this.stroke=this.temp=null};b.getCSS=function(){return this.J};b.toString=function(){return "[Box (name="+this.name+")]"};b.type="Box";jbeeb.Box=e})();this.jbeeb=this.jbeeb||{};(function(){var e=function(a){this.init(a)},b=e.prototype=new jbeeb.Box(null);b.textFit=null;b.text="";b.aC="";b.textSize=null;b.textColor=null;b.shadowText=null;b.bevelText=null;b.outlineText=null;b.insetText=null;b.font=null;b.align=null;b.textScale=null;b.selectable=null;b.bold=null;b.padding=null;b.editable=null;b.bP=null;b.multiline=null;b.baselineShift=null;b.bM=null;b.K=null;b.bb=false;b.bv=b.init;b.init=function(a){if(a){if(a.editable){var b;b=a.multiline?document.createElement("textarea"):document.createElement("input");this.bP=1;b.id=jbeeb.getUID();b.style.position="absolute";b.style.overflow="visible";if(this.J)this.J.position="absolute",this.J.overflow="visible";if(!a.multiline)b.type="text";a.element=b}this.bv(a);a.element=null;b=this.style;b.textDecoration="none";b.zoom=1;b.size=a.h;this.text=a.text||"";if(this.J)b=this.J,b.fontSmooth="always",b.WebkitFontSmoothing="antialiased",b.textDecoration="none",b.zoom=1,b.size=a.h;this.applySkin(a,true)}};b.bj=b.applySkin;b.applySkin=function(a,b){this.bb=true;if(a.editable){var c=null;a.fill&&(c=typeof a.fill=="object"?a.fill.color:a.fill);a.stroke=a.stroke||c||{weight:1,color:"#000000",alpha:1}}this.bj(a,b);this.textFit=a.textFit||null;this.font=a.font||"Arial, Helvetica, sans-serif";this.align=a.align||"left";this.textScale=a.textScale||1;this.bold=a.bold||0;this.selectable=a.selectable||0;this.editable=a.editable||0;this.multiline=a.multiline||0;this.baselineShift=a.baselineShift||0;if(!b)this.text=a.text||"";this.aC="";this.textColor={};if(a.textSize)this.textSize=a.textSize;a.editable==1&&this.setEditable(1);this.setMultiline(this.multiline,true);this.setText(this.text);if(a.textColor){var c=a.textColor,d={};if(typeof c=="string")d={color:c,alpha:1};else if(d=c,!d.color)d.color=null,d.alpha=null;this.setTextColor(d.color||"#000000",d.alpha||1)}if(a.shadowText)this.shadowText=a.shadowText;if(a.insetText)this.insetText=a.insetText;if(a.bevelText)this.bevelText=a.bevelText;if(a.outlineText)this.outlineText=a.outlineText;if(a.shadow)this.shadow=a.shadow;if(a.inset)this.insetText=a.inset;if(a.bevel)this.bevel=a.bevel;if(a.outline)this.outline=a.outline;a.padding&&this.setPadding(a.padding);if(a.alphaNumeric)this.alphaNumeric=1;if(a.numeric)this.numeric=1;this.setBaselineShift(this.baselineShift);this.bb=false;this.aw();this.bh()};b.setMultiline=function(a){this.multiline=a;var b=this.style;if(a){if(!this.textSize)this.textSize=12;a="normal"}else a="nowrap";b.whiteSpace=a;if(this.J)this.J.whiteSpace=a;this.aL()};b.bP=0;b.setEditable=function(a){a===1?(this.amSM||this.setCursor("text"),this.K?this.K.removeAllEventListeners():this.K=new jbeeb.Keyboard(this.element),this.K.addEventListener("keydown",this.keyHandler,this),this.K.addEventListener("keyup",this.keyHandler,this),this.setOverflow("hidden"),jbeeb.Utils.bindEvent(this.element,"focus",this.setFocus.bind(this)),jbeeb.Utils.bindEvent(this.element,"blur",this.bV.bind(this)),this.addMEL("mouseUp",this.setFocus,this)):(this.amSM||this.setCursor("default"),this.K&&this.K.removeAllEventListeners(),jbeeb.Utils.unbindEvent(this.element,"focus",this.setFocus.bind(this)));this.editable=a};b.numeric=null;b.alphaNumeric=null;b.keyHandler=function(a,b,c){var d=true;this.alphaNumeric?d=this.K.alphaNumeric(b):this.numeric&&(d=this.K.numeric(b));if(this.multiline==0&&(b==108||b==13))d=false,c=="keyup"&&this.dispatchEvent("enter",this,this.text);b==9&&(d=false,c=="keyup"&&this.dispatchEvent("tab",this,this.text));d?(this.text=this.bP&& !this.multiline?this.element.value:this.bS.text,c=="keyup"&&this.dispatchEvent("change",this,this.text)):this.K.block(a)};b.bV=function(){this.dispatchEvent("change",this,this.text)};b.setPadding=function(a){this.padding=a;var b;b=this.bS?this.bS.style:this.style;var c="",d="",f="",e="";this.multiline?(c=a+"px",d=a+"px",f=a+"px",e=a+"px"):this.align=="left"?a&&(c=a+"px"):this.align=="right"&&a&&(d=a+"px");b.paddingLeft=c;b.paddingRight=d;b.paddingTop=f;b.paddingBottom=e;if(this.J)a=this.J,a.paddingLeft=c,a.paddingRight=d,a.paddingTop=f,a.paddingBottom=e};b.bi=function(){var a=this.font,b=this.textColor||{},b=jbeeb.Utils.makeColor(b.color,b.alpha),c=this.bold?"bold":"normal",d=this.style;d.fontFamily=a;d.color=b;d.textAlign=this.align;d.fontWeight=c;if(this.J)d=this.J,d.fontFamily=a,d.color=b,d.textAlign=this.align,d.fontWeight=c};b.setFont=function(a){this.font=a;this.style.fontFamily=a;if(this.bS)this.bS.style.fontFamily=this.font;if(this.J)this.J.fontFamily=a;this.aw()};b.setAlign=function(a){this.align=a;this.style.textAlign=a;a=="center"&&this.setPadding(0);if(this.J)this.J.textAlign=a};b.setBold=function(a){this.bold=a?"bold":"";this.style.fontWeight=this.bold;if(this.J)this.J.fontWeight=this.bold;this.aw()};b.setBaselineShift=function(a){(this.baselineShift=a)?a>1?a=1:a< -1&&(a= -1):a=0;a*= -1;this.bM=1+a;this.aw()};b.measureText=function(a){if(this.text||a){var b=document.createElement("div");document.body.appendChild(b);var c=b.style;c.fontSize=this.height*this.textScale+"px";c.fontFamily=this.font;c.fontWeight=this.bold?"bold":"normal";c.position="absolute";c.left= -1E3;c.top= -1E3;b.innerHTML=a||this.text;a={w:b.clientWidth,h:b.clientHeight};document.body.removeChild(b);return a}else return 0};b.setTextColor=function(a,b){if(!this.textColor)this.textColor={};this.textColor.color=a;this.textColor.alpha=b;var c=jbeeb.Utils.makeColor(a,b);this.style.color=c;if(this.J)this.J.color=c};b.setText=function(a){if(this.element){this.text=a=a==""|| !a?"":String(a);if(this.bP&& !this.multiline)this.element.value=a;else{if(!this.bS){var b=document.createElement("span");b.style.fontFamily=this.font;this.element.appendChild(b);this.bS=b}this.bS.innerHTML=a}this.aC!=a&&this.aw();this.aC=a}};b.selectAll=function(){if(this.bP)jbeeb.focus=this,this.element.focus(),this.element.select()};b.ae=b.setWidth;b.setWidth=function(a){a!=this.width&&(this.ae(a),this.aL())};b.aE=b.setHeight;b.setHeight=function(a){a!=this.height&&(this.aE(a),this.aL())};b.bp=b.setSize;b.setSize=function(a,b){if(a!=this.width||b!=this.height)this.bp(a,b),this.aL()};b.setTextScale=function(a){this.textScale=a||1;this.aL()};b.setTextSize=function(a){this.textSize=a;this.aL()};b.setTextFit=function(a){this.textFit=a;this.aL()};b.ao=b.onAdded;b.onAdded=function(){this.ao();this.aw()};b.setFocus=function(){jbeeb.focus=this;this.element.focus()};b.aL=function(){if(this.text!=""){var a=null,b=null,c=null;if(this.textSize)a=this.textSize,b="1em",c=a+"px";else{var d=this.width,f=this.height;if(d>0&&f>0)if(this.textFit=="wh")a=d<f?d:f,a=this.textScale>0?a*this.textScale:a;else if(this.textFit=="w"){if(d=this.width/this.measureText().w/2,jbeeb.Utils.isNumber(d)&&d>0)this.textScale=d,a=f*d}else a=f*this.textScale;else a=0}a&&(b=this.height*this.bM/a+"em",c=a+"px");a=this.style;a.lineHeight=b;a.fontSize=c;if(this.J)this.J.lineHeight=b,this.J.fontSize=c}};b.getTextSize=function(){return this.style.fontSize||null};b.aw=function(){this.bb||(this.aL(),this.bi())};b.bh=function(){var a=this.bd(),b=this.aX(),c=this.aH(),d=this.bu(),f="none";if(!(a==[]&&b==[]&&c==[]&&d==[])){for(var a=b.concat(c,a,d),b=a.length,c=[],d=[],e=0,j=0;j<b;j++)e==0?a[j]==1&&d.push("inset"):e<4?d.push(a[j]+"px"):(d.push(jbeeb.Utils.makeColor(a[j],a[j+1])),c.push(d.join(" ")),d=[],++j,e= -1),e++;c.length>0&&(f=c.join(","))}a=this.style;a.textShadow=a.MozTextShadow=a.WebkitTextShadow=a.OTextShadow=a.msTextShadow=f;if(this.J)this.J.textShadow=f};b.bd=function(){var a=this.shadowText;return a?[0,a.x,a.y,a.s,a.c,a.a]:[]};b.setShadowText=function(a){this.shadowText=a;this.bh()};b.bu=function(){var a=this.insetText;return a?[1,a.x,a.y,a.s,a.c,a.a]:[]};b.setInsetText=function(a){this.insetText=a;this.bh()};b.aX=function(){if(this.bevelText){var a=this.bevelText,b=[];a.c1&&a.a1>0&&(b=[0,-a.x,-a.y,a.s1,a.c1||"#000000",a.a1]);a.c2&&a.a2>0&&(b=b.concat([0,a.x,a.y,a.s2,a.c2||"#FFFFFF",a.a2]));return b}else return[]};b.setBevelText=function(a){this.bevelText=a;this.bh()};b.aH=function(){if(this.outlineText){var a=this.outlineText;return[0,-a.weight,-a.weight,a.spread||0,a.color||"#000000",a.alpha,0,a.weight,-a.weight,a.spread||0,a.color||"#000000",a.alpha,0,-a.weight,a.weight,a.spread||0,a.color||"#000000",a.alpha,0,a.weight,a.weight,a.spread||0,a.color||"#000000",a.alpha]}else return[]};b.setOutlineText=function(a){this.outlineText=a;this.bh()};b.toString=function(){return "[TextBox (name="+this.name+")]"};b.type="TextBox";jbeeb.TextBox=e})();this.jbeeb=this.jbeeb||{};(function(){var e=function(a){this.init(a)},b=e.prototype=new jbeeb.Box(null);b.L=[];b.addChild=function(a){if(a==null)return a;var b=arguments.length;if(b>0)for(var c=0;c<b;c++){var d=arguments[c];d.parent&&d.parent.removeChild(d);d.parent=this;d.stage=this.amStage==1?this:this.stage;d.setZ(this.L.length);this.element.appendChild(d.element);d.onAdded&&d.onAdded.call(d);this.L.push(d)}};b.removeChild=function(a){var b=arguments.length;if(b>1){for(var c=true;b--;)c=c&&this.removeChild(arguments[b]);return c}return this.removeChildAt(this.L.indexOf(a))};b.removeChildAt=function(a){var b=arguments.length;if(b>1){for(var c=[],d=0;d<b;d++)c[d]=arguments[d];c.sort(function(a,b){return b-a});for(var f=true,d=0;d<b;d++)f=f&&this.removeChildAt(c[d]);return f}if(a<0||a>this.L.length-1)return false;if(b=this.L[a])b.element&&b.element.parentNode&&b.element.parentNode.removeChild(b.element),b.parent=null;this.L.splice(a,1);this.aP();return true};b.removeAllChildren=function(){for(var a=this.L;a.length;)this.removeChildAt(0)};b.aP=function(){for(var a=this.L.length,b=0;b<a;b++){var c=this.L[b];c&&c.setZ(b+1)}};b.toFront=function(a){if(a){for(var b=this.L.length,c=0,d=b;d--;)if(this.L[d]==a){c=d;break}jbeeb.Utils.arrayMove(this.L,c,b-1);this.aP()}else this.parent&&this.parent.toFront(this)};b.toBack=function(a){if(a){for(var b=0,c=this.L.length;c--;)if(this.L[c]==a){b=c;break}jbeeb.Utils.arrayMove(this.L,b,0);this.aP()}else this.parent&&this.parent.toBack(this)};b.aB=b.init;b.init=function(a){this.aB(a);if(a)this.stage=this.amStage==1?this:this.stage,this.L=[]};b.ap=b.stretch;b.stretch=function(a,b){var c=a,d=b,f=this.flex;f&&(f.match(/w/)||(c=1),f.match(/h/)||(d=1));for(f=this.L.length;f--;){var e=this.L[f];e&&e.stretch(c,d)}this.ap(a,b)};b.aj=b.setFlex;b.setFlex=function(a){for(var b=this.L.length;b--;)this.L[b].setFlex(a);this.aj(a)};b.aW=b.destroy;b.destroy=function(){if(this.L)for(var a=this.L.length;a--;)this.L[a]&&(this.L[a].destroy(),this.removeChild(this.L[a]),this.L[a]=null);this.L=null;this.aW()};b.destroyChildren=function(){if(this.L)for(var a=this.L.length;a--;)this.L[a]&&(this.L[a].destroy(),this.removeChild(this.L[a]),this.L[a]=null);this.L.length=0;this.L=null;this.L=[]};b.getChildren=function(){return this.L};b.toString=function(){return "[Container (name="+this.name+")]"};b.type="Container";jbeeb.Container=e})();this.jbeeb=this.jbeeb||{};(function(){var e=function(a){this.bH(a);return this},b=e.prototype=new jbeeb.Container;b.amReady=null;b.O=null;b.bH=function(a){if(a){this.amReady=0;if(a.onReady)this.O=[],this.O.push(a.onReady);this.id=jbeeb.getUID();if(a.stage)this.amStage=0,this.bs(a);else{this.amStage=1;this.parent=this;this.stage=this;var b=a.target,c=null,d=0;if(b)(c=typeof b=="string"?document.getElementById(b):b)?c.nodeType===1?(this.element=document.createElement("div"),this.element.id=this.id,c.appendChild(this.element)):d=1:d=1;if(!b||d)document.write('<div id="'+this.id+'"></div>'),this.element=document.getElementById(this.id);a.element=this.element;this.bs(a);this.style=this.element.style;this.style.position="relative";this.style.display=a.inline===true||a.inline=="true"||a.inline===1?"inline-block":"block";this.style.verticalAlign="top";this.style.clear="both";this.style.zoom=1;this.setSize(this.width||a.w||1,this.height||a.h||1);this.setOverflow(a.overflow||"visible");this.setCursor("default")}jbeeb.register(this)}};b.bs=b.init;b.init=function(){var a=jbeeb.Utils.getXYWH(this.element);this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;setTimeout(this.bE.bind(this),50)};b.bE=function(){this.amReady=1;if(this.O)for(var a=0;a<this.O.length;a++)this.O.pop()()};b.onReady=function(a){if(this.amReady)a();else{if(!this.O)this.O=[];this.O.push(a)}};b.toString=function(){return "[Stage (name="+this.name+")]"};b.type="Stage";jbeeb.Stage=e})();(function(){var e=function(a){this.imageFolder=CountdownImageFolder;this.imageBasename=CountdownImageBasename;this.imageExt=CountdownImageExt;this.imagePhysicalWidth=CountdownImagePhysicalWidth;this.imagePhysicalHeight=CountdownImagePhysicalHeight;this.totalFlipDigits=2;this.az=a||{};var b,c,d,f;if(a.bkgd){var e=a.bkgd;if(e.color)b=e.color;e.stroke&&e.strokeColor&&(c={weight:e.stroke||1,color:e.strokeColor,alpha:e.strokeAlpha});if(e.shadow)d=e.shadow;if(e.rounded)f=e.rounded}this.ba=new jbeeb.Stage({target:a.target,inline:a.inline||false,w:a.width||CountdownWidth,h:a.height||CountdownHeight,rounded:f||null,fill:b||null,stroke:c||null,shadow:d||null});jbeeb.register(this)},b=e.prototype;b.az=null;b.ba=null;b.aq=false;b.ai=null;b.id=null;b.ag=false;b.T=null;b.R=null;b.totalFlipDigits=null;b.imageFolder=null;b.imageBasename="flipper";b.imageExt="png";b.aT=null;b.bN=null;b.aR="second";b.aN=864E5;b.aG=false;b.al=null;b.bw=false;b.bK=0;b.ar=0;b.aA=0;b.ay=0;b.bm=[];b.aZ={};b.be=0;b.init=function(){this.id=jbeeb.getUID();var a=this.az;this.ag=this.aq=false;this.T=new Date;this.R=a.style||"boring";this.width=a.width||CountdownWidth;this.height=a.height||CountdownHeight;this.ai=a.onComplete;this.aG=a.hideLabels;this.bw=a.hideLine;this.al=a.labelText||CountdownLabels;this.be=a.offset||0;var b=new Date;if(this.R=="flip"){this.imageFolder.substr(-1)!="/"&&(this.imageFolder+="/");var c=this.imageFolder+this.imageBasename}this.bN={second:{use:false,prev:[null,null],ani:[null,null],aniCount:[null,null]},minute:{use:false,prev:[null,null],ani:[null,null],aniCount:[null,null]},hour:{use:false,prev:[null,null],ani:[null,null],aniCount:[null,null]},day:{use:false,prev:[null,null],ani:[null,null],aniCount:[null,null]},month:{use:false,prev:[null,null],ani:[null,null],aniCount:[null,null]},year:{use:false,prev:[null,null],ani:[null,null],aniCount:[null,null]}};if(a.time)this.T.setTime((b.getTime()/1E3+parseInt(a.time)+1)*1E3);else{var d=a.year?parseInt(a.year):b.getFullYear(),e=a.month?parseInt(a.month)-1:0,g=a.day?parseInt(a.day):0,b=a.hour?parseInt(a.hour):0,j=a.minute?parseInt(a.minute):0,i=a.second?parseInt(a.second):0,k=(a.ampm?a.ampm:"am").toLowerCase();b<12&&/p/.test(k)&&(b+=12);this.T=new Date(d,e,g,b,j,i);e=new Date;e.getHours();d=0;b>e.getHours()&&(d+=this.aN);b=(new Date(e.getFullYear(),0,1)).getTimezoneOffset();e=(new Date(e.getFullYear(),6,1)).getTimezoneOffset();this.T.getTimezoneOffset()<(b>e?b:e)&&(d+=36E5);this.be!=0&&(d+=this.be*36E5);if(d!=0)b=this.T.getTime()+d,this.T=new Date(b)}b="second,minute,hour,day,month,year".split(",");j=a.rangeLo?a.rangeLo:"second";i=a.rangeHi?a.rangeHi:"year";j=j.substr(-1)=="s"?j.substr(0,j.length):j;i=i.substr(-1)=="s"?i.substr(0,i.length):i;for(d=0;d<b.length;d++)e=b[d],e==j&&(j=d),e==i&&(i=d);for(d=0;d<b.length;d++)if(d>=j&&d<=i)e=b[d],this.bN[e].use=true,this.aR=e;e=a.padding===0?0:a.padding?a.padding:this.R=="flip"?0:0.8;this.R=="flip"&&(e/=2);var g=this.height,j=this.width/(i-j+1),i=this.aG?0:j*0.25,k=j*0.1,n=j-k,q=g-i,s=n*e;this.R=="flip"&&(s=n*(e/this.totalFlipDigits));var t=n-s,o=this.height-i*2;this.ar=n/this.totalFlipDigits;this.aA=k;var l=0;this.R=="flip"&&(o=this.height-i,l=g*0.03);this.bK=n;this.ar=t*this.totalFlipDigits;this.aA=k;this.ay=s/2/this.totalFlipDigits/2;var p={font:"Arial, _sans",color:"#FFFFFF",weight:"normal",bkgd:this.R=="flip"?null:{color:["#000000",1,0,"#686868",1,50,"#000000",1,50,"#535050",1,100],alpha:"v"},rounded:this.R=="flip"?null:0.18,shadow:null},u={font:"Arial, _sans",color:"#303030",weight:"bold"};if(a.numbers)for(var r in p)a.numbers[r]&&(p[r]=a.numbers[r]);if(a.labels)for(r in u)a.labels[r]&&(u[r]=a.labels[r]);b.reverse();this.aT={};this.bm=[];for(d=r=0;d<b.length;d++){var x=b[d];if(this.bN[x].use){this.aT[x]=new jbeeb.Container({x:r+k/2,y:0,w:n,h:q,rounded:p.rounded||null,fill:jbeeb.Utils.clone(p.bkgd)||null,shadow:p.shadow||null});var m=this.aT[x];m.store={name:x};this.aZ[x]=n;if(this.R=="flip"){var v=this.imagePhysicalWidth*((t-l*2-s*2)/this.totalFlipDigits/this.imagePhysicalWidth),w=this.imagePhysicalHeight*(o/this.imagePhysicalHeight);m.time=new jbeeb.Container({x:0,y:0,w:v*this.totalFlipDigits,h:w});for(var y=[],z=0;z<this.totalFlipDigits;z++){for(var A=new jbeeb.Container({x:v*z+l*z,y:0,w:v,h:w}),E=[],B=0;B<10;B++){for(var C=new jbeeb.Container({x:0,y:0,w:v,h:w}),F=[],D=0;D<3;D++){var G=new jbeeb.Box({x:0,y:0,w:v,h:w,image:{url:c+(""+B+""+D)+"."+this.imageExt,mode:"fit"}});F[D]=G;C.addChild(G)}C.img=F;E[B]=C;A.addChild(C)}A.num=E;y[z]=A;m.time.addChild(A)}m.time.slot=y;m.addChild(m.time)}else if(m.time=new jbeeb.TextBox({x:0,y:0,w:n,h:q,text:"00",textScale:e,font:p.font,textColor:p.color,align:"center"}),m.addChild(m.time),!this.bw)m.line=new jbeeb.Box({x:0,y:0,w:n,h:g*0.03,fill:"#000000"}),m.addChild(m.line),m.line.center();this.ba.addChild(m);if(!this.aG)m.labels=new jbeeb.TextBox({x:r,y:g-i*0.7,w:j,h:i*0.7,font:u.font,testScale:0.7,textColor:u.color,bold:1,align:"center",text:this.al[x]}),this.ba.addChild(m.labels);this.bm.push(m);m.time.center();a.numberMarginTop&&m.time.setY(a.numberMarginTop);r+=j}}m=this.aT;this.R=="flip"?(m.year&&this.H("year","00"),m.month&&this.H("month","00"),m.day&&this.H("day","00"),m.hour&&this.H("hour","00"),m.minute&&this.H("minute","00"),m.second&&this.H("second","00")):(m.year&&m.year.time.setText("00"),m.month&&m.month.time.setText("00"),m.day&&m.day.time.setText("00"),m.hour&&m.hour.time.setText("00"),m.minute&&m.minute.time.setText("00"),m.second&&m.second.time.setText("00"),this.bJ());this.ag=true;jbeeb.ticker.addEventListener("tick",this.tick,this)};b.au=function(){this.ai&&this.ai()};b.ab=function(a){return a.toString().length*this.ar};b.bJ=function(){for(var a=false,b=0;b<this.bm.length;b++){var c=this.bm[b],d=c.store.name,e=c.time.text,e=this.ab(e);e>=this.bK&&e!=this.aZ[d]&&(c.setWidth(e+this.ay),this.aZ[d]=e+this.ay,a=true)}if(a)for(b=a=0;b<this.bm.length;b++)c=this.bm[b],e=c.time.text,this.ab(e),c.setX(a),c.time.setWidth(c.width),c.time.center(),c.labels&&(c.labels.setX(a),c.labels.setWidth(c.width)),c.line&&(c.line.setWidth(c.width),c.line.center()),a+=c.width+this.aA};b.am=function(){var a=0,b=0,c=0,d=0,f=0,g=0,j=new Date,i=this.T.getTime()-j.getTime(),k=this.aT;if(i>0){var a=i/1E3,b=a/60,c=b/60,g=this.aR,a=Math.floor(g=="second"?a:a%60),b=Math.floor(g=="minute"?b:b%60),c=Math.floor(g=="hour"?c:c%24),n=e.YMDcalc(j.getFullYear(),j.getMonth(),j.getDate(),this.T.getFullYear(),this.T.getMonth(),this.T.getDate()),d=n.d;g=="day"&&(d=Math.round((i-this.aN)/this.aN));f=n.m;g=="month"&&(f=this.aF(j,this.T));g=n.y;i<6E4?g=f=d=c=b=0:i<36E5?g=f=d=c=0:i<864E5?g=f=d=0:i<26784E5&&(g=f=0);a<10&&(a="0"+a);b<10&&(b="0"+b);c<10&&(c="0"+c);d<10&&(d="0"+d);f<10&&(f="0"+f);g<10&&(g="0"+g)}else this.aq||(g=f=d=c=b=a="00");this.R=="flip"?(k.year&&this.H("year",g),k.month&&this.H("month",f),k.day&&this.H("day",d),k.hour&&this.H("hour",c),k.minute&&this.H("minute",b),k.second&&this.H("second",a)):(k.year&&k.year.time.setText(g),k.month&&k.month.time.setText(f),k.day&&k.day.time.setText(d),k.hour&&k.hour.time.setText(c),k.minute&&k.minute.time.setText(b),k.second&&k.second.time.setText(a),this.bJ());this.aq==true&&this.au()};b.H=function(a,b){for(var c=0;c<this.totalFlipDigits;c++){var d=this.aT[a].time.slot[c],e=this.bN[a],g=String(b).substr(c,1),j=d.num[g];if(j){if(e.prev[c]!=g){for(var i=0;i<10;i++)d.num[i].hide();j.show();e.ani[c]=true;e.aniCount[c]=0}if(e.ani[c]){for(i=0;i<3;i++)j.img[i].hide();this.aq?j.img[2].show():(j.img[e.aniCount[c]].show(),e.aniCount[c]++,e.aniCount[c]>2&&(e.ani[c]=false))}e.prev[c]=g}}};b.tick=function(){this.ag===true&&this.am()};b.aF=function(a,b){var c=(b.getFullYear()-a.getFullYear())*12;c-=a.getMonth();c+=b.getMonth();b.getDate()-a.getDate()+1<=0&&c--;return c<=0?0:c};e.YMDcalc=function(a,b,c,d,e,g){var j=[31,28,31,30,31,30,31,31,30,31,30,31];j[1]=a%400==0||a%4==0&&a%100!=0?29:28;b+=1;e+=1;var i=c+1,c=g-i;c<0&&(c=j[b-1]-i+g,e--);e<0&&(e+=12,d--);g=e-b;g<0&&(g+=12,d--);return{y:d-a,m:g,d:c}};window.Countdown=e})();